{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/element-resize-event/index.js","webpack:///./src/components/App.js","webpack:///./src/components/App.scss","webpack:///./src/components/Keyboard/Keyboard.js","webpack:///./src/components/Keyboard/Keyboard.scss","webpack:///./src/components/Keyboard/index.js","webpack:///./src/components/Keyboard/keyboard-data/code-layout.js","webpack:///./src/components/Keyboard/keyboard-data/keyboard-layouts.js","webpack:///./src/components/Keyboard/keyboard-data/symbol-key-codes.js","webpack:///./src/js/index.js","webpack:///./src/js/lib/create-element.js","webpack:///./src/js/lib/is.js","webpack:///./src/scss/index.scss"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,QAAQ,SAAS,cAAc,aAAa,sBAAsB,aAAa,YAAY;AACvH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/FA,mBAAO,CAAC,6CAAY;;AAEpB,sBAAsB,mBAAO,CAAC,gEAA0B;AACxD,iBAAiB,mBAAO,CAAC,sDAAY;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB;AACA;AACA,SAAS,OAAO;;AAEhB,SAAS,2BAA2B;;AAEpC;AACA;AACA;AACA,GAAG;;AAEH,SAAS,iBAAiB;;AAE1B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;ACzDA,uC;;;;;;;;;;;ACAA,mBAAO,CAAC,gEAAiB;;AAEzB,2BAA2B,mBAAO,CAAC,0EAAsB;AACzD,sBAAsB,mBAAO,CAAC,mEAA6B;;AAE3D,uBAAuB,mBAAO,CAAC,qGAAkC;AACjE,mBAAmB,mBAAO,CAAC,2FAA6B;AACxD,gBAAgB,mBAAO,CAAC,qGAAkC;;AAE1D;AACA;AACA,WAAW,YAAY;AACvB;AACA;;AAEA;AACA,WAAW,YAAY;AACvB;AACA,4BAA4B,OAAO;AACnC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA,WAAW,YAAY;AACvB;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;;AAEA;AACA,kCAAkC,OAAO;;AAEzC;;AAEA;AACA,WAAW,OAAO;AAClB;;AAEA,wBAAwB,UAAU;AAClC,yBAAyB,UAAU;AACnC,6BAA6B,OAAO,KAAK,OAAO;;AAEhD;AACA,WAAW,cAAc;AACzB,WAAW,gBAAgB;;AAE3B;AACA;AACA,iCAAiC,uBAAuB;AACxD;;AAEA;AACA;AACA,iCAAiC,6BAA6B;AAC9D;;AAEA;AACA,4BAA4B,uBAAuB;AACnD;;AAEA;AACA,4BAA4B,iCAAiC;AAC7D;;AAEA;AACA,4BAA4B,wBAAwB;AACpD;;AAEA;AACA,4BAA4B,iCAAiC;AAC7D;;AAEA;AACA,4BAA4B,iCAAiC;AAC7D;;AAEA;AACA,4BAA4B,iCAAiC;AAC7D;;AAEA;AACA,4BAA4B,iCAAiC;AAC7D;;AAEA;AACA,4BAA4B,wBAAwB;AACpD;;AAEA;AACA,4BAA4B,2BAA2B;AACvD;;AAEA;AACA,4BAA4B,iCAAiC;AAC7D;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB,WAAW,QAAQ;AACnB;AACA,oBAAoB,yCAAyC;AAC7D;AACA,8CAA8C,eAAe;AAC7D;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mDAAmD,KAAK;AACxD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,SAAS,8BAA8B;;AAEvC;AACA;;AAEA,+CAA+C;AAC/C;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB;AACA,aAAa;AACb;AACA,yBAAyB,OAAO;AAChC;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB;AACA,aAAa;AACb;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB;AACA;AACA,SAAS,cAAc;AACvB,+CAA+C,KAAK;;AAEpD;AACA;;AAEA;AACA,cAAc,+BAA+B;;AAE7C;AACA;;AAEA;AACA,aAAa,SAAS;AACtB;AACA,KAAK;AACL;AACA,KAAK;AACL,oCAAoC;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB;AACA;AACA,SAAS,OAAO;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+CAA+C,KAAK;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB;AACA,aAAa;AACb;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB,WAAW,iBAAiB;AAC5B;AACA,mBAAmB,cAAc;AACjC;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB;AACA,GAAG;;AAEH;AACA,WAAW,SAAS;AACpB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;;;;;ACrUA,uC;;;;;;;;;;;ACAA,iBAAiB,mBAAO,CAAC,yDAAY;;;;;;;;;;;;ACArC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,EAAE;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrDA,mBAAO,CAAC,iDAAoB;;AAE5B,YAAY,mBAAO,CAAC,kDAAmB;AACvC,sBAAsB,mBAAO,CAAC,4DAAsB;;AAEpD;AACA,KAAK,sBAAsB;;AAE3B;;;;;;;;;;;;ACRA,WAAW,mBAAO,CAAC,gCAAM;;AAEzB;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA,qBAAqB;AACrB,sBAAsB;AACtB;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;;;;;;;;;;AChCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACTA,uC","file":"js/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/index.js\");\n","function resizeListener(e) {\r\n  var win = e.target || e.srcElement\r\n  if (win.__resizeRAF__) {\r\n    cancelAnimationFrame(win.__resizeRAF__)\r\n  }\r\n  win.__resizeRAF__ = requestAnimationFrame(function () {\r\n    var trigger = win.__resizeTrigger__\r\n    var listeners = trigger &&  trigger.__resizeListeners__\r\n    if (listeners) {\r\n      listeners.forEach(function (fn) {\r\n        fn.call(trigger, e)\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nvar exports = function exports(element, fn) {\r\n  var window = this\r\n  var document = window.document\r\n  var isIE\r\n\r\n  var attachEvent = document.attachEvent\r\n  if (typeof navigator !== 'undefined') {\r\n    isIE = navigator.userAgent.match(/Trident/) ||\r\n      navigator.userAgent.match(/Edge/)\r\n  }\r\n\r\n  function objectLoad() {\r\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__\r\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener)\r\n  }\r\n\r\n  if (!element.__resizeListeners__) {\r\n    element.__resizeListeners__ = []\r\n    if (attachEvent) {\r\n      element.__resizeTrigger__ = element\r\n      element.attachEvent('onresize', resizeListener)\r\n    } else {\r\n      if (getComputedStyle(element).position === 'static') {\r\n        element.style.position = 'relative'\r\n      }\r\n      var obj = (element.__resizeTrigger__ = document.createElement('object'))\r\n      obj.setAttribute(\r\n        'style',\r\n        'position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;'\r\n      )\r\n      obj.setAttribute('class', 'resize-sensor')\r\n\r\n      // prevent <object> from stealing keyboard focus\r\n      obj.setAttribute('tabindex', '-1');\r\n\r\n      obj.__resizeElement__ = element\r\n      obj.onload = objectLoad\r\n      obj.type = 'text/html'\r\n      if (isIE) {\r\n        element.appendChild(obj)\r\n      }\r\n      obj.data = 'about:blank'\r\n      if (!isIE) {\r\n        element.appendChild(obj)\r\n      }\r\n    }\r\n  }\r\n  element.__resizeListeners__.push(fn)\r\n}\r\n\r\nmodule.exports = typeof window === 'undefined' ? exports : exports.bind(window)\r\n\r\nmodule.exports.unbind = function (element, fn) {\r\n  var attachEvent = document.attachEvent\r\n  var listeners = element.__resizeListeners__ || []\r\n  if (fn) {\r\n    var index = listeners.indexOf(fn)\r\n    if (index !== -1) {\r\n      listeners.splice(index, 1)\r\n    }\r\n  } else {\r\n    listeners = element.__resizeListeners__ = []\r\n  }\r\n  if (!listeners.length) {\r\n    if (attachEvent) {\r\n      element.detachEvent('onresize', resizeListener)\r\n    } else if (element.__resizeTrigger__) {\r\n      var contentDocument = element.__resizeTrigger__.contentDocument;\r\n      var defaultView = contentDocument && contentDocument.defaultView;\r\n      if (defaultView) {\r\n        defaultView.removeEventListener('resize', resizeListener);\r\n        delete defaultView.__resizeTrigger__;\r\n      }\r\n      element.__resizeTrigger__ = !element.removeChild(\r\n        element.__resizeTrigger__\r\n      )\r\n    }\r\n    delete element.__resizeListeners__\r\n  }\r\n}\r\n","require('./App.scss');\n\nconst createElement = require('../js/lib/create-element');\nconst Keyboard = require('./Keyboard');\n\n/* BEM structure\n  app\n    app__input\n    app__keyboard-container\n      keyboard\n        keyboard__line\n        keyboard__key key\n          key__print\n*/\n\n/** Generate DOM structure for App module and insert it into the \"node\" element.\n * @param {HTMLElement} node - Mount Point\n*/\nfunction createAppDOM(node) {\n  if (!node.classList.contains('app')) node.classList.add('app');\n\n  const childs = {\n    input: createElement('textarea', 'app__input'),\n    keyboardContainer: createElement('div', 'app__keyboard-container'),\n  };\n\n  Object.keys(childs).forEach((name) => node.appendChild(childs[name]));\n\n  return childs;\n}\n\n/** Create the App component and attach it to the \"node\" option.\n * @param {object} opts\n * @param {HTMLElement} opts.node - App mount point\n */\nfunction App(opts) {\n  const { node } = opts;\n\n  const { input, keyboardContainer } = createAppDOM(node);\n\n  const keyboard = Keyboard({\n    node: keyboardContainer.appendChild(createElement('div')),\n    input,\n  });\n\n  const { keydown, keyup } = keyboard;\n\n  document.addEventListener('keydown', (event) => {\n    event.preventDefault();\n    keydown(event.code);\n  });\n  document.addEventListener('keyup', (event) => {\n    event.preventDefault();\n    keyup(event.code);\n  });\n}\n\nmodule.exports = App;\n","// extracted by mini-css-extract-plugin","require('./Keyboard.scss');\n\nconst elementResizeEvent = require('element-resize-event');\nconst createElement = require('../../js/lib/create-element');\n\nconst symbolKeyCodes = require('./keyboard-data/symbol-key-codes');\nconst codeLayout = require('./keyboard-data/code-layout');\nconst layouts = require('./keyboard-data/keyboard-layouts');\n\n/** Check if passed key node is key of symbol to typing.\n *\n * @param {HTMLElement} key\n */\nconst isSymbolKey = (key) => symbolKeyCodes.includes(key.dataset.code);\n\n/** Generate DOM structure for Keyboard component and insert it into the \"node\" element.\n * @param {HTMLElement} node - Keyboard component mount point.\n*/\nconst createKeyboardDOM = ({ node }) => {\n  if (!node.classList.contains('keyboard')) {\n    node.classList.add('keyboard');\n  }\n\n  codeLayout.forEach((lineStr) => {\n    const line = createElement('div', 'keyboard__line');\n    node.appendChild(line);\n\n    lineStr.split(' ').forEach(((keyCode) => {\n      const key = createElement('div', 'keyboard__key', {\n        'data-code': keyCode,\n      });\n\n      line.appendChild(key);\n    }));\n  });\n};\n\n/** Calculate and set sizes of the DOM elements\n * @param {HTMLElement} node - Keyboard component mount point.\n */\nconst setSizes = ({ node }) => {\n  const keyboardWidth = parseInt(getComputedStyle(node).width, 10);\n  const keyHeight = keyboardWidth * 0.05;\n  const keyGap = (keyboardWidth - keyHeight * 16) / 17;\n\n  const firstLine = node.firstChild;\n  firstLine.style.paddingTop = `${keyGap}px`;\n\n  const keys = [...node.querySelectorAll('.keyboard__key')];\n\n  keys.forEach((currKey) => {\n    const { code } = currKey.dataset;\n    const keyStyle = currKey.style;\n\n    keyStyle.width = `${keyHeight}px`;\n    keyStyle.height = `${keyHeight}px`;\n    keyStyle.margin = `0 0 ${keyGap}px ${keyGap}px`;\n\n    keyStyle.fontSize = isSymbolKey(currKey)\n      ? `${keyHeight / 2}px`\n      : `${keyHeight / 3.5}px`;\n\n    switch (code) {\n      case 'F1':\n        keyStyle.marginLeft = `${keyGap * 2 + keyHeight}px`;\n        break;\n\n      case 'F5':\n      case 'F9':\n        keyStyle.marginLeft = `${(keyGap * 3 + keyHeight) / 2}px`;\n        break;\n\n      case 'Backspace':\n        keyStyle.width = `${keyHeight * 2 + keyGap}px`;\n        break;\n\n      case 'Tab':\n        keyStyle.width = `${keyHeight * (1 + 1 / 3) + keyGap}px`;\n        break;\n\n      case 'Backslash':\n        keyStyle.width = `${keyHeight * (1 + 2 / 3)}px`;\n        break;\n\n      case 'CapsLock':\n        keyStyle.width = `${keyHeight * (1 + 2 / 3) + keyGap}px`;\n        break;\n\n      case 'Enter':\n        keyStyle.width = `${keyHeight * (2 + 1 / 3) + keyGap}px`;\n        break;\n\n      case 'ShiftLeft':\n        keyStyle.width = `${keyHeight * (1 + 4 / 3) + keyGap}px`;\n        break;\n\n      case 'ShiftRight':\n        keyStyle.width = `${keyHeight * (1 + 2 / 3) + keyGap}px`;\n        break;\n\n      case 'ControlLeft':\n        keyStyle.width = `${keyHeight * (1 + 2 / 3)}px`;\n        break;\n\n      case 'Space':\n        keyStyle.width = `${keyHeight * 6 + keyGap * 5}px`;\n        break;\n\n      case 'ControlRight':\n        keyStyle.width = `${keyHeight * (1 + 1 / 3) + keyGap}px`;\n        break;\n\n      default:\n        break;\n    }\n  });\n};\n\n/* Set keyboard layout and print its symbols on the keys.\n * Save data about current layout in the sessionStorage.\n *\n * @param {object} - the keyboard instance state\n * @param {HTMLElement} state.node - Keyboard component mount point.\n * @param {boolean} hasShiftedLayout - What layout should use.\n */\nconst setLayout = ({ node, hasShiftedLayout, currLayoutName }) => {\n  if (!layouts[currLayoutName]) {\n    throw new Error(`Incorrect layout name \"${currLayoutName}.\"`);\n  }\n\n  const newLayout = hasShiftedLayout\n    ? layouts[currLayoutName][1]\n    : layouts[currLayoutName][0];\n\n  codeLayout.forEach((lineStr, lineNumber) => {\n    lineStr.split(' ').forEach((code, keyNumber) => {\n      const key = node.querySelector(`[data-code=${code}]`);\n      const value = newLayout[lineNumber].split(' ')[keyNumber];\n\n      const symbol = value.match(/.*\\[.*\\]$/)\n        ? value.split('[')[0]\n        : value;\n\n      const print = value.match(/.*\\[.*\\]$/)\n        ? value.split(/\\[|\\]/)[1]\n        : value;\n\n      key.innerHTML = print;\n      if (isSymbolKey(key)) key.setAttribute('data-symbol', symbol);\n    });\n  });\n\n  sessionStorage.setItem('currLayoutName', currLayoutName);\n};\n\n/** Switch between defined keyboard layouts.\n *\n * @param {object} state - the keyboard instance state\n */\nconst switchLayout = (state) => {\n  const { currLayoutName, layoutNames } = state;\n\n  const currIndex = layoutNames.indexOf(currLayoutName);\n  const newIndex = (currIndex + 1) % layoutNames.length;\n\n  state.currLayoutName = layoutNames[newIndex]; // eslint-disable-line no-param-reassign\n  setLayout(state);\n};\n\n/** Check if the \"Shift\" key is pressed.\n *\n * @param {object} state - the keyboard instance state\n * @param {HTMLElement} state.node - Keyboard component mount point.\n *\n * @returns {boolean}\n */\nconst isShiftPressed = ({ node }) => !!(\n  node.querySelector('.keyboard__key.active[data-code=ShiftLeft]')\n  || node.querySelector('.keyboard__key.active[data-code=ShiftRight]')\n);\n\n/** Check if the \"Alt\" key is pressed.\n *\n * @param {object} state - the keyboard instance state\n * @param {HTMLElement} state.node - Keyboard component mount point.\n *\n * @returns {boolean}\n */\nconst isAltPressed = ({ node }) => !!(\n  node.querySelector('.keyboard__key.active[data-code=AltLeft]')\n  || node.querySelector('.keyboard__key.active[data-code=AltRight]')\n);\n\n/** Set the “active” class of the key node\n * whose code is equal to the “code” property.\n *  Print symbol into the state.input.\n *\n * @param {object} state - the keyboard instance state\n * @param {HTMLElement} state.node - Keyboard component mount point.\n * @param {string} code - key code\n */\nconst keydown = (state, code) => {\n  const { node, input } = state;\n  const key = node.querySelector(`[data-code=${code}]`);\n\n  if (key) {\n    key.classList.add('active');\n\n    // this way make a bug on chrome !!!\n    // const { selectionStart, selectionEnd } = input;\n\n    const selectionStart = input.value.length;\n    const selectionEnd = selectionStart;\n\n    if (isSymbolKey(key)) {\n      const { symbol } = key.dataset;\n      input.setRangeText(symbol, selectionStart, selectionEnd, 'end');\n    } else if (code === 'Backspace') {\n      input.setRangeText('', selectionStart - 1, selectionEnd, 'end');\n    } else if (isShiftPressed(state)) {\n      state.hasShiftedLayout = true; // eslint-disable-line no-param-reassign\n      setLayout(state);\n    }\n  }\n};\n\n/** Remove the “active” class of the key node\n * whose code is equal to the “code” property.\n *  Switch inpput language if \"shift+alt\" combination is found.\n *\n * @param {object} state - the keyboard instance state\n * @param {HTMLElement} state.node - Keyboard component mount point.\n * @param {string} code - key code\n */\nconst keyup = (state, code) => {\n  const { node } = state;\n\n  const shiftAltCodes = ['ShiftLeft', 'ShiftRight', 'AltLeft', ' AltRight'];\n  if (shiftAltCodes.includes(code)\n    && isShiftPressed(state)\n    && isAltPressed(state)\n  ) {\n    switchLayout(state);\n  }\n\n  const key = node.querySelector(`[data-code=${code}]`);\n  if (key) {\n    key.classList.remove('active');\n\n    if (\n      (code === 'ShiftLeft' || code === 'ShiftRight')\n      && !isShiftPressed(state)\n    ) {\n      state.hasShiftedLayout = false; // eslint-disable-line no-param-reassign\n      setLayout(state);\n    }\n  }\n};\n\n/** Check if the passed HTMLElement is a keyboard key.\n * @param {HTMLElement} duck - Node do check.\n *\n * @returns {boolean}\n */\nconst isKeyNode = (duck) => duck.classList.contains('keyboard__key');\n\n/** Create the Keyboard component and attach it to the \"node\" option.\n * @param {object} opts\n * @param {HTMLElement} opts.node - App mount point\n * @param {HTMLInputElement} opts.input - Input to print symbols.\n */\nconst Keyboard = ({ node, input }) => {\n  const currLayoutName = sessionStorage.getItem('currLayoutName') || 'en-us';\n\n  /* Be carefull! This variable are passed to methods and may mutate! */\n  let state = { // eslint-disable-line prefer-const\n    node,\n    input,\n    currLayoutName,\n    layoutNames: Object.keys(layouts),\n    hasShiftedLayout: false,\n  };\n\n  createKeyboardDOM(state);\n  setSizes(state);\n  setLayout(state);\n\n  node.addEventListener('mousedown', (event) => {\n    const { target } = event;\n    if (isKeyNode(target)) keydown(state, target.dataset.code);\n  });\n\n  node.addEventListener('mouseup', (event) => {\n    const { target } = event;\n    if (isKeyNode(target)) keyup(state, target.dataset.code);\n  });\n\n  /* TO DISCUSS: arrow function versus the bind() method\n   * Dzmitry, I remember your desire to write like this:\n   *    elementResizeEvent(node, setSizes.bind(null, node));\n   *\n   *  But I think the way with the arrow function is more\n   *    readable in this certain case.\n   */\n  elementResizeEvent(node, () => setSizes(state));\n\n  return {\n    /* TO DISCUSS: arrow function versus the bind() method\n     * The method \"keydown\" and \"keyup\" was makes using diffrent ways\n     *   by design. Thus, we can see illustrative examples\n     *   of the discuss topic.\n     */\n    keydown: (code) => keydown(state, code),\n    keyup: keyup.bind(null, state),\n  };\n};\n\nmodule.exports = Keyboard;\n\n// TODO: delegate the working with sessionStorage to the higher level component\n\n// TODO: style keys using .scss file instead inline styles\n\n// TODO: process tuch events on keyboard\n\n// TODO: Remove class \"active\" when mouse out from key.\n","// extracted by mini-css-extract-plugin","module.exports = require('./Keyboard');\n","const codeLayout = [\n  'Escape F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Delete',\n  'Backquote Digit1 Digit2 Digit3 Digit4 Digit5 Digit6 Digit7 Digit8 Digit9 Digit0 Minus Equal Backspace Home',\n  'Tab KeyQ KeyW KeyE KeyR KeyT KeyY KeyU KeyI KeyO KeyP BracketLeft BracketRight Backslash End',\n  'CapsLock KeyA KeyS KeyD KeyF KeyG KeyH KeyJ KeyK KeyL Semicolon Quote Enter PageUp',\n  'ShiftLeft KeyZ KeyX KeyC KeyV KeyB KeyN KeyM Comma Period Slash ShiftRight ArrowUp PageDown',\n  'ControlLeft MetaLeft AltLeft Space AltRight ContextMenu ControlRight ArrowLeft ArrowDown ArrowRight',\n];\n\nmodule.exports = codeLayout;\n","module.exports = {\n  'en-us': [\n    [ // shift not pressed\n      'Esc F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Del',\n      '` 1 2 3 4 5 6 7 8 9 0 - = Backspace Home',\n      '\\u0009[Tab] q w e r t y u i o p [ ] \\\\ End',\n      'CapsLock a s d f g h j k l ; \\' \\u000D[Enter] PgUp',\n      'Shift z x c v b n m , . / Shift ⇧ PgDn',\n      'Ctrl Win Alt \\u00A0[Space] Alt Menu Ctrl ⇦ ⇩ ⇨',\n    ],\n    [ // shift pressed\n      'Esc F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Del',\n      '~ ! @ # $ % ^ & * ( ) _ + Backspace Home',\n      '\\u0009[Tab] Q W E R T Y U I O P { } | End',\n      'CapsLock A S D F G H J K L : \" \\u000D[Enter] PgUp',\n      'Shift Z X C V B N M < > ? Shift ⇧ PgDn',\n      'Ctrl Win Alt \\u00A0[Space] Alt Menu Ctrl ⇦ ⇩ ⇨',\n    ],\n  ],\n\n  'ru-ru': [\n    [ // shift not pressed\n      'Esc F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Del',\n      'ё 1 2 3 4 5 6 7 8 9 0 - = Backspace Home',\n      '\\u0009[Tab] й ц у к е н г ш щ з х ъ \\\\ End',\n      'CapsLock ф ы в а п р о л д ж э \\u000D[Enter] PgUp',\n      'Shift я ч с м и т ь б ю . Shift ⇧ PgDn',\n      'Ctrl Win Alt \\u00A0[Space] Alt Menu Ctrl ⇦ ⇩ ⇨',\n    ],\n    [ // shift pressed\n      'Esc F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Del',\n      'Ё ! \" № ; % : ? * ( ) _ + Backspace Home',\n      '\\u0009[Tab] Й Ц У К Е Н Г Ш Щ З Х Ъ / End',\n      'CapsLock Ф Ы В А П Р О Л Д Ж Э \\u000D[Enter] PgUp',\n      'Shift Я Ч С М И Т Ь Б Ю , Shift ⇧ PgDn',\n      'Ctrl Win Alt \\u00A0[Space] Alt Menu Ctrl ⇦ ⇩ ⇨',\n    ],\n  ],\n};\n","const symbolKeyCodes = [\n  'Backquote',\n  'Digit1',\n  'Digit2',\n  'Digit3',\n  'Digit4',\n  'Digit5',\n  'Digit6',\n  'Digit7',\n  'Digit8',\n  'Digit9',\n  'Digit0',\n  'Minus',\n  'Equal',\n  'Tab',\n  'KeyQ',\n  'KeyW',\n  'KeyE',\n  'KeyR',\n  'KeyT',\n  'KeyY',\n  'KeyU',\n  'KeyI',\n  'KeyO',\n  'KeyP',\n  'BracketLeft',\n  'BracketRight',\n  'Backslash',\n  'KeyA',\n  'KeyS',\n  'KeyD',\n  'KeyF',\n  'KeyG',\n  'KeyH',\n  'KeyJ',\n  'KeyK',\n  'KeyL',\n  'Semicolon',\n  'Quote',\n  'KeyZ',\n  'KeyX',\n  'KeyC',\n  'KeyV',\n  'KeyB',\n  'KeyN',\n  'KeyM',\n  'Comma',\n  'Period',\n  'Slash',\n  'Enter',\n  'Space',\n];\n\nmodule.exports = symbolKeyCodes;\n","require('../scss/index.scss');\n\nconst App = require('../components/App');\nconst createElement = require('./lib/create-element');\n\nconst appMountPoint = document.body.appendChild(createElement('div'));\nApp({ node: appMountPoint });\n\n// TODO: Refactor components to make they as classes\n","const is = require('./is');\n\n/** Create an instance of HTMLElement by tagName and set its some properties.\n * This function can't proccess non primitive properties.\n *\n * @param {string} tagName\n * @param {string} [className]\n * @param {Object} [attrs]\n*/\nmodule.exports = function createElement(tagName, className, attrs) {\n  if (!attrs && is.object(className)) {\n    className = null; // eslint-disable-line no-param-reassign\n    attrs = className; // eslint-disable-line no-param-reassign\n  }\n\n  const node = document.createElement(tagName);\n\n  if (attrs) {\n    Object.keys(attrs).forEach((attrName) => {\n      const value = attrs[attrName];\n\n      if (!is.primitive(value)) {\n        throw new Error('Unable to proccess non promitive value.');\n      }\n\n      node.setAttribute(attrName, value);\n    });\n  }\n\n  if (className) node.classList.add(className);\n\n  return node;\n};\n","module.exports = {\n  object: (duck) => typeof duck === 'object'\n    && duck !== null,\n\n  primitive: (duck) => typeof duck === 'number'\n    || typeof duck === 'string'\n    || typeof duck === 'boolean'\n    || duck === undefined\n    || duck === null,\n};\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}